### 概述

任务调度：是指系统在某个时间段定时执行某个任务或者程序

任务调度分类：

1. 系统工作：有些重要的工作必须周而复始的执行。例如病毒扫描等
2. 用户工作：用户希望定时执行某些程序。例如MySQL数据库的备份等

### 命令

基本语法：crontab [选项]

参数说明：

| 参数 | 说明                           |
| ---- | ------------------------------ |
| -e   | 编辑crontab定时任务            |
| -l   | 查询crontab定时任务            |
| -r   | 删除当前用户目前所有的定时任务 |

### 案例

```shell
# 任务说明：每隔一分钟将/etc/下面的目录追加到 /tmp/test.txt文件中
*/1 * * * * ls -l /etc/ >> /tmp/test.txt
```

#### 占位符说明

| 参数     | 含义               | 范围                |
| -------- | ------------------ | ------------------- |
| 第一个 * | 一小时中的第几分钟 | 0-59                |
| 第二个 * | 一天当中第几个小时 | 0-23                |
| 第三个 * | 一个月中第几天     | 1-31                |
| 第四个 * | 一年中第几个月     | 1-12                |
| 第五个 * | 一周中星期几       | 0-7(0和7都代表周日) |

![](https://raw.githubusercontent.com/Andre235/PicGo/master/crontab.png?token=AHY3GJIHCU7N62XPHBFO4C26PQYNU)

#### 特殊符号说明

| 特殊符号 | 含义                                                         |
| -------- | ------------------------------------------------------------ |
| *        | 代表任何时间（第一个*就代表1小时中的每1分钟）                |
| ，       | 代表不连续的时间。（0 8,12,16 * * *命令代表每天的08:00,12:00,16:00执行一次任务） |
| -        | 代表连续的时间范围。（0 5 * * 1-6命令代表在周一到周六的每天的05:00执行一次任务） |
| */n      | 代表每隔多久执行一次。（*/10 * * * *命令代表每隔10分钟执行一次任务） |

#### 特定时间执行任务案例

| 时间         | 含义                                   |
| ------------ | -------------------------------------- |
| 0 17 * * 1   | 每周一的17:00执行一次任务              |
| */10 4 * * * | 每天的凌晨四点，每隔10分钟执行一次任务 |
| 30 4 * * 6,7 | 每周六、周日的04:30执行一次任务        |

#### crond相关指令

```shell
crontab -r # 终止任务调度
crontab -l # 列出当前有哪些任务调度
service crond restart #重启任务调度
```

