#### shutdown

```
sync 将数据由内存同步到硬盘中。
shutdown 关机指令，你可以man shutdown 来看一下帮助文档。例如你可以运行如下命令关机：
shutdown –h 10计算机将在10分钟后关机，并且会显示在登陆用户的当前屏幕中。
shutdown –h now 立马关机
shutdown –h 20:25 系统会在今天20:25关机
shutdown –h +10 十分钟后关机
shutdown –r now 系统立马重启
shutdown –r +10 系统十分钟后重启

最后总结一下，不管是重启系统还是关闭系统，首先要运行 sync 命令，把内存中的数据写到磁盘中。
```

```
要取消即将进行的关机，只要输入下面的命令 ：
shutdown -c
```

>  若安装 bash-completion 软件，则在某些指令后面使用 [tab] 按键时，可以进行『选项/参数的补齐』功能！ 

#### Linux 系统目录结构

##### 常见目录结构

1. /bin

    bin是Binary的缩写, 这个目录存放着最经常使用的**命令**。 

2. /boot

    这里存放的是启动Linux时使用的一些核心文件，包括一些**连接文件**以及**镜像文件**。 

3. /dev

    dev是Device(**设备)**的缩写, 该目录下存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。 

4. /etc

    这个目录用来存放所有的系统管理所需要的**配置文件**和子目录。 

5. /home

    用户的主目录，在Linux中，每个**用户**都有一个自己的目录，一般该目录名是以用户的账号命名的。 

6. /lib

    这个目录里存放着系统最基本的**动态连接共享库**，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。 

7. /media

    linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。 

8. /mnt

    系统提供该目录是为了让用户**临时挂载**别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了 

9. /opt

    这是给主机**额外安装软件**所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。 

10. /proc

     这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息 

    >  这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器： 
    >
    > ```
    > echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all
    > ```

11. /root

     该目录为系统管理员，也称作超级权限者的用户主目录。 

12. /sbin

     s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。 

13. /sys

     该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。 

     当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。 

14. /usr (unix system resource)

     这是一个非常重要的目录，用户的很多**应用程序和文件**都放在这个目录下，类似于windows下的**program files**目录。 

15. /var

     这个目录中存放着在**不断扩充**着的东西，我们习惯将那些**经常被修改的目录**放在这个目录下。包括各种**日志文件**。 

##### 当前目录、父目录

>  在Linux文件系统中有两个特殊的目录，一个 用户所在的工作目录，也叫当前目录，可以使用一个点 **.** 来表示；另一个是当前目录的上一级目录，也叫父目录，可以使用两个点 **..** 来表示。 
>
> -  .  ：代表当前的目录，也可以使用 ./ 来表示；
> -  .. ：代表上一层目录，也可以 ../ 来代表。
>
>  如果一个目录或文件名以一个点 . 开始，表示这个目录或文件是一个隐藏目录或文件(如：.bashrc)。即以默认方式查找时，不显示该目录或文件。 

#### 使用ssh连接服务器

<img src="C:\Users\Administrator\Desktop\md\Linux\ssh.png" alt="ssh" style="zoom:60%;" />

#### Linux文件基本属性

##### 文件字符含义

 在Linux中第一个字符代表这个文件是目录、文件或链接文件等等 

> - 当为[ d ]则是目录
> - 当为[ - ]则是文件；
> - 若是[ l ]则表示为链接文档(link file)；
> - 若是[ b ]则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
> - 若是[ c ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。

所有字符含义

<img src="C:\Users\Administrator\Desktop\md\Linux\字符含义.png" alt="字符含义" style="zoom:80%;" />

#### Linux文件与目录管理

##### 处理目录的常用命令

- ls: 列出目录
- cd：切换目录
- pwd：显示目前的目录
- mkdir：创建一个新的目录
- rmdir：删除一个空的目录
- cp: 复制文件或目录
- rm: 移除文件或目录
- mv: 移动文件与目录，或修改文件与目录的名称

##### mkdir(创建新目录)

> 选项与参数
>
> - -m ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～
> - -p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！
>
> ```
> [root@andre runoob]# mkdir -p test1/test2/test3
> 
> [root@andre runoob]# mkdir -m 711 test2
> [root@andre runoob]# ll
> 总用量 0
> drwxr-xr-x. 3 root root 19 12月 31 21:46 test1
> drwx--x--x. 2 root root  6 12月 31 21:50 test2
> ```

##### rmdir(删除空的目录)

> 选项与参数
>
>  **-p ：**连同上一级『空的』目录也一起删除

#####  rm删除非空目录

> - -f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
> - -i ：互动模式，在删除前会询问使用者是否动作
> - -r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！

##### cp(拷贝文件和目录)

> 选项与参数
>
>  **-a：**相当与-pdr 的意思（常用）
>
>  **-i：**若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用) 
>
>  **-p：**连同文件的属性一起复制过去，而非使用默认属性(备份常用)； 
>
>  **-r：**递归持续复制，用於目录的复制行为；(常用) 
>
>  **-d：**若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身； 

##### mv(移动文件或目录，或者修改名称)

> - -f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
> - -i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
> - -u ：若目标文件已经存在，且 source 比较新，才会升级 (update)

#### Linux文件内容查看

- cat 由第一行开始显示文件内容
- tac 从最后一行开始显示，可以看出 tac 是 cat 的倒著写！
- nl  显示的时候，顺道输出行号！
- more 一页一页的显示文件内容
- less 与 more 类似，但是比 more 更好的是，他可以往前翻页！
- head 只看头几行
- tail 只看尾巴几行

##### cat

> 选项与参数
>
> - -A ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
> - **-b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！（常用）**
> - -E ：将结尾的断行字节 $ 显示出来；
> - -n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；
> - -T ：将 [tab] 按键以 ^I 显示出来；
> - -v ：列出一些看不出来的特殊字符

##### tac(倒序输出)

>  tac与cat命令刚好相反，文件内容从最后一行开始显示，可以看出 tac 是 cat 的倒着写！ 

##### nl(显示行号)

##### more(一页一页翻动)

> - 空白键 (space)：代表向下翻一页；
> - Enter     ：代表向下翻『一行』；
> - /字串     ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；
> - :f      ：立刻显示出档名以及目前显示的行数；
> - q       ：代表立刻离开 more ，不再显示该文件内容。
> - b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。

##### less(一页一页翻动)

> - 空白键  ：向下翻动一页；
> - [pagedown]：向下翻动一页；
> - [pageup] ：向上翻动一页；
> - /字串   ：向下搜寻『字串』的功能；
> - ?字串   ：向上搜寻『字串』的功能；
> - n     ：重复前一个搜寻 (与 / 或 ? 有关！)
> - N     ：反向的重复前一个搜寻 (与 / 或 ? 有关！)
> - q     ：离开 less 这个程序；

##### head(取出文件的前几行)

>  -n ：后面接数字，代表显示几行的意思 
>
> ```
> [root@www ~]# head /etc/man.config
> ```
>
>  默认的情况中，显示前面 10 行！若要显示前 20 行，就得要这样： 
>
> ```
> [root@www ~]# head -n 20 /etc/man.config
> ```

##### tail(取出文件的后几行)

> - -n ：后面接数字，代表显示几行的意思
> - -f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c才会结束tail的侦测

#### Linux用户管理

 实现用户账号的管理，要完成的工作主要有如下几个方面： 

> - 用户账号的添加、删除与修改。 
> -  用户口令的管理。
> -  用户组的管理。   

##### useradd（添加用户）

> - -c comment 指定一段注释性描述。
> - -d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。
> - -g 用户组 指定用户所属的用户组。
> - -G 用户组，用户组 指定用户所属的附加组。
> - -s Shell文件 指定用户的登录Shell。
> - -u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号。

```
[root@andre home]# useradd -d /home/zhaojingchao -m zhaojingchao

[root@andre home]# useradd -s /bin/sh -G root zjc
此命令新建了一个用户gem，该用户的登录Shell是 /bin/sh，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。 
```

##### passwd（ 用户口令管理）

> ```
> passwd 选项 用户名
> ```
>
> - -l 锁定口令，即禁用账号。lock
> - -u 口令解锁。
> - -d 使账号无口令。
> - -f 强迫用户下次登录时修改口令。

#### Linux系统用户组的管理

##### groupadd （新增用户组）

> - -g GID 指定新用户组的组标识号（GID）。
> - -o 一般与-g选项同时使用，表示新用户组的GID可以与系统已有用户组的GID相同。
>
> ```
> # groupadd group1
> ```

##### groupdel （删除用户组）

> ```
> groupdel 用户组
> ```

##### groupmod（修改用户组）

> - -g GID 为用户组指定新的组标识号。
> - -o 与-g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同。
> - -n新用户组 将用户组的名字改为新名字
>
> ```
> [root@andre home]# groupmod -g 101 -n group_mod  group
> #添加用户组id为101 组名修改为group_mod
> ```

#### Linux磁盘管理

 Linux磁盘管理好坏直接关系到整个系统的性能问题 

 Linux磁盘管理常用三个命令为df、du和fdisk。 

> -  df：列出文件系统的整体磁盘使用量
> -  du：检查磁盘空间使用量
> -  fdisk：用于磁盘分区

##### df （文件系统的整体磁盘使用量 ）

> -  -a  ：列出所有的文件系统，包括系统特有的 /proc 等文件系统；
> -  -k  ：以 KBytes 的容量显示各文件系统；
> -  -m  ：以 MBytes 的容量显示各文件系统；
> -  **-h  ：以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；**
> -  -H  ：以 M=1000K 取代 M=1024K 的进位方式；
> -  **-T  ：显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；**
> -  -i  ：不用硬盘容量，而以 inode 的数量来显示

##### fdisk

 fdisk 是 Linux 的磁盘分区表操作工具。 

>  -l  ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时，      则系统将会把整个系统内能够搜寻到的装置的分区均列出来。 

#### [Linux vi/vim](https://www.runoob.com/linux/linux-vim.html)

vim编辑器的三种输入模式

1. 命令行模式
2. 输入模式
3. 底线命令模式

#### Linux yum命令

>  yum（ Yellow dog Updater, Modified）是一个在Fedora和RedHat以及SUSE中的Shell前端软件包管理器。  
>
>  yum提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。  

##### yum语法

```
yum [options] [command] [package ...]
```

> - **options：**可选，选项包括-h（帮助），-y（当安装过程提示选择全部为"yes"），-q（不显示安装的过程）等等。 
> - **command：**要进行的操作。 
> - **package**操作的对象。

##### yum常用命令

> -  1.列出所有可更新的软件清单命令：yum check-update
> -  2.更新所有软件命令：yum update
> -  3.仅安装指定的软件命令：yum install <package_name>
> -  4.仅更新指定的软件命令：yum update <package_name>
> -  5.列出所有可安裝的软件清单命令：yum list
> -  6.删除软件包命令：yum remove <package_name> 
> -  7.查找软件包 命令：yum search <keyword> 
> -  8.清除缓存命令: 
>   - yum clean packages: 清除缓存目录下的软件包
>   -  yum clean headers: 清除缓存目录下的 headers
>   -  yum clean oldheaders: 清除缓存目录下旧的 headers
>   -  yum clean, yum clean all (= yum clean packages; yum clean oldheaders) :清除缓存目录下的软件包及旧的headers