### 1 入门

#### 1.1 概述

Zookeeper是一个开源的分布式的，管理分布式服务的Apache项目

Zookeeper从设计模式的角度理解，是一个基于**观察者模式**的分布式服务管理框架，它负责**存储和管理集群的数据（集群元数据信息：ip地址、服务器上下线状态）**，并且接受观察者的注册。一旦这些数据发生变化，zookeeper就负责**通知**已经注册的那些观察者，并做出相应的反应

**Zookeeper事件通知流程**

<img src="https://cdn.jsdelivr.net/gh/Andre235/-community@master/src/image.42yz95m5coc0.png" alt="image" style="zoom:50%;" />

1. 服务端启动时向zookeeper注册信息
2. 客户端可以获取到当前在线的服务器列表，并且注册监控服务器状态
3. 如果有一个服务器下线
4. zookeeper将会发送服务器节点下线的通知事件
5. 客户端收到注册中心的通知后，会重新获取当前在线的服务器列表，并注册监听

#### 1.2 特点

#### 1.3 数据结构

#### 1.4 应用场景

### 2 本地安装

#### 2.1 本地模式安装

#### 2.2 配置参数解读

### 3 集群操作

#### 3.1 集群操作

##### 集群安装

##### 选举机制（面试重点）

##### ZK集群启动和停止脚本

#### 3.2 客户端命令行操作

##### 命令行语法

##### znode节点数据类型

##### 节点类型（持久/短暂/有序号/无序号）

##### 监听器原理

##### 节点删除与查看

#### 3.3 客户端API操作

##### IDEA环境搭建

##### 创建zookeeper客户端

##### 创建子节点

##### 获取子节点并监听节点变化

##### 判断znode是否存在

#### 3.4 客户端向服务端写数据流程

### 4 服务器动态上下线监听案例

#### 4.1 需求

#### 4.2 需求分析

#### 4.3 具体实现

#### 4.4 测试

### 5 zookeeper分布锁案例

#### 5.1 原生zookeeper实现分布锁案例

#### 5.2 Curator框架实现分布式锁案例

### 6 企业面试真题（面试重点）

#### 6.1 选举机制

#### 6.2 生产集群安装多少zk合适？

#### 6.3 常用命令







